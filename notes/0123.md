Nav is difficult without client state

Middleware tms for the endpoints to build
- CSS vars
- Nav

Absolutely horrid code duplication
